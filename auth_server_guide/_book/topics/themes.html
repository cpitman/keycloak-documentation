<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Themes | Keycloak</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../topics/recaptcha.html" />
    
    
    <link rel="prev" href="../topics/identity-broker.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="11"
        data-chapter-title="Themes"
        data-filepath="topics/themes.adoc"
        data-basepath=".."
        data-revision="Tue Apr 05 2016 21:38:08 GMT+0530 (IST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="topics/preface.html">
            
            <span><b>1.</b> Overview</span>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="topics/Overview.html">
            
                
                    <a href="../topics/Overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Overview
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="topics/server-installation.html">
            
                
                    <a href="../topics/server-installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Installation and Configuration of Keycloak Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="topics/providers.html">
            
                
                    <a href="../topics/providers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Providers and SPIs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="topics/openshift.html">
            
                
                    <a href="../topics/openshift.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Running Keycloak Server on OpenShift
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="topics/admin-permissions.html">
            
                
                    <a href="../topics/admin-permissions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Master Admin Access Control
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="topics/per-realm-admin-permissions.html">
            
                
                    <a href="../topics/per-realm-admin-permissions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Per Realm Admin Access Control
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="topics/adapter-config.html">
            
                
                    <a href="../topics/adapter-config.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Adapters
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="topics/jboss-adapter.html">
            
                
                    <a href="../topics/jboss-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        JBoss/Wildfly Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="topics/tomcat-adapter.html">
            
                
                    <a href="../topics/tomcat-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Tomcat 6, 7 and 8 Adapters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="topics/jetty9-adapter.html">
            
                
                    <a href="../topics/jetty9-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Jetty 9.x Adapters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="topics/jetty8-adapter.html">
            
                
                    <a href="../topics/jetty8-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Jetty 8.1.x Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="topics/servlet-filter-adapter.html">
            
                
                    <a href="../topics/servlet-filter-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        Java Servlet Filter Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="topics/fuse-adapter.html">
            
                
                    <a href="../topics/fuse-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.</b>
                        
                        JBoss Fuse and Apache Karaf Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="topics/javascript-adapter.html">
            
                
                    <a href="../topics/javascript-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.7.</b>
                        
                        Javascript Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.8" data-path="topics/spring-boot-adapter.html">
            
                
                    <a href="../topics/spring-boot-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.8.</b>
                        
                        Spring Boot Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.9" data-path="topics/spring-security-adapter.html">
            
                
                    <a href="../topics/spring-security-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.9.</b>
                        
                        Spring Security Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.10" data-path="topics/installed-applications.html">
            
                
                    <a href="../topics/installed-applications.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.10.</b>
                        
                        Installed Applications
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.11" data-path="topics/logout.html">
            
                
                    <a href="../topics/logout.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.11.</b>
                        
                        Logout
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.12" data-path="topics/adapter_error_handling.html">
            
                
                    <a href="../topics/adapter_error_handling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.12.</b>
                        
                        Error Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.13" data-path="topics/multi-tenancy.html">
            
                
                    <a href="../topics/multi-tenancy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.13.</b>
                        
                        Multi Tenancy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.14" data-path="topics/jaas.html">
            
                
                    <a href="../topics/jaas.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.14.</b>
                        
                        JAAS plugin
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="topics/client-registration.html">
            
                
                    <a href="../topics/client-registration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Client Registration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="topics/identity-broker.html">
            
                
                    <a href="../topics/identity-broker.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Identity Broker
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="11" data-path="topics/themes.html">
            
                
                    <a href="../topics/themes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Themes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="topics/recaptcha.html">
            
                
                    <a href="../topics/recaptcha.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Recaptcha Support on Registration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="topics/email.html">
            
                
                    <a href="../topics/email.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Email
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="topics/access-types.html">
            
                
                    <a href="../topics/access-types.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Client Access Types
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="topics/roles.html">
            
                
                    <a href="../topics/roles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Roles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="topics/groups.html">
            
                
                    <a href="../topics/groups.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Groups
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="topics/direct-access.html">
            
                
                    <a href="../topics/direct-access.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Direct Access Grants
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="topics/service-accounts.html">
            
                
                    <a href="../topics/service-accounts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Service Accounts
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="topics/cors.html">
            
                
                    <a href="../topics/cors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        CORS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="topics/timeouts.html">
            
                
                    <a href="../topics/timeouts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        Cookie settings, Session Timeouts, and Token Lifespans
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="topics/admin-rest-api.html">
            
                
                    <a href="../topics/admin-rest-api.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        Admin REST API
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="topics/events.html">
            
                
                    <a href="../topics/events.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        Events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="topics/user-federation.html">
            
                
                    <a href="../topics/user-federation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        User Federation SPI and LDAP/AD Integration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="topics/kerberos.html">
            
                
                    <a href="../topics/kerberos.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        Kerberos brokering
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="25" data-path="topics/export-import.html">
            
                
                    <a href="../topics/export-import.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>25.</b>
                        
                        Export and Import
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="26" data-path="topics/cache.html">
            
                
                    <a href="../topics/cache.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>26.</b>
                        
                        Server Cache
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="27" data-path="topics/saml.html">
            
                
                    <a href="../topics/saml.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>27.</b>
                        
                        SAML SSO
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="28" data-path="topics/security-vulnerabilities.html">
            
                
                    <a href="../topics/security-vulnerabilities.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>28.</b>
                        
                        Security Vulnerabilities
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="29" data-path="topics/clustering.html">
            
                
                    <a href="../topics/clustering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>29.</b>
                        
                        Clustering
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="30" data-path="topics/application-clustering.html">
            
                
                    <a href="../topics/application-clustering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>30.</b>
                        
                        Application Clustering
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="31" data-path="topics/proxy.html">
            
                
                    <a href="../topics/proxy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>31.</b>
                        
                        Keycloak Security Proxy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="32" data-path="topics/custom-attributes.html">
            
                
                    <a href="../topics/custom-attributes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>32.</b>
                        
                        Custom User Attributes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="33" data-path="topics/protocol-mappers.html">
            
                
                    <a href="../topics/protocol-mappers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>33.</b>
                        
                        OIDC Token and SAML Assertion Mappings
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="34" data-path="topics/auth-spi.html">
            
                
                    <a href="../topics/auth-spi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>34.</b>
                        
                        Custom Authentication, Registration, and Required Actions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="35" data-path="topics/MigrationFromOlderVersions.html">
            
                
                    <a href="../topics/MigrationFromOlderVersions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>35.</b>
                        
                        Migration from older versions
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Keycloak</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="themes">Themes</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak provides theme support for web pages and emails.
This allows customizing the look and feel of end-user facing pages so they can be integrated with your applications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_theme_types">Theme types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A theme can support several types to customize different aspects of Keycloak.
The types currently available are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Account - Account management</p>
</li>
<li>
<p>Admin - Admin console</p>
</li>
<li>
<p>Email - Emails</p>
</li>
<li>
<p>Login - Login forms</p>
</li>
<li>
<p>Welcome - Welcome pages</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configure_theme">Configure theme</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All theme types, except welcome, is configured through <code>Keycloak Admin Console</code>.
To change the theme used for a realm open the <code>Keycloak Admin Console</code>, select your realm from the drop-down box in the top left corner.
Under <code>Settings</code> click on <code>Theme</code>.</p>
</div>
<div class="paragraph">
<p>To set the theme for the <code>master</code> Keycloak admin console set the admin console theme for the <code>master</code> realm.
To set the theme for per realm admin access control set the admin console theme for the corresponding realm.</p>
</div>
<div class="paragraph">
<p>To change the welcome theme you need to edit <code>standalone/configuration/keycloak-server.json</code> and add <code>welcomeTheme</code> to the theme element, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&quot;theme&quot;: {
    ...
    &quot;welcomeTheme&quot;: &quot;custom-theme&quot;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_default_themes">Default themes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak comes bundled with default themes in the server&#x2019;s root <code>themes</code> directory.
You should not edit the bundled themes directly.
Instead create a new theme that extends a bundled theme.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_theme">Creating a theme</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A theme consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>FreeMarker</p>
</li>
<li>
<p>Stylesheets</p>
</li>
<li>
<p>Scripts</p>
</li>
<li>
<p>Images</p>
</li>
<li>
<p>Message bundles</p>
</li>
<li>
<p>Theme properties</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A theme can extend another theme.
When extending a theme you can override individual files (templates, stylesheets, etc.). The recommended way to create a theme is to extend the base theme.
The base theme provides templates and a default message bundle.
If you decide to override templates bear in mind that you may need to update your templates when upgrading to a new release to include any changes made to the original template.</p>
</div>
<div class="paragraph">
<p>Before creating a theme it&#x2019;s a good idea to disable caching as this makes it possible to edit theme resources without restarting the server.
To do this open <code>../standalone/configuration/keycloak-server.json</code> for <code>theme</code> set <code>staticMaxAge</code> to <code>-1</code> and <code>cacheTemplates</code> and <code>cacheThemes</code> to <code>false</code>.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[
&quot;theme&quot;: {
    &quot;default&quot;: &quot;keycloak&quot;,
    &quot;staticMaxAge&quot;: -1,
    &quot;cacheTemplates&quot;: false,
    &quot;cacheThemes&quot;: false,
    &quot;folder&quot;: {
      &quot;dir&quot;: &quot;${jboss.home.dir}/themes&quot;
    }
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remember to re-enable caching in production as it will significantly impact performance.</p>
</div>
<div class="paragraph">
<p>To create a new theme create a directory for the theme in the server&#x2019;s root <code>themes</code>.
The name of the directory should be the name of the theme.
For example to create a theme called <code>example-theme</code>            create the directory <code>themes/example-theme</code>.
Inside the theme directory you then need to create a directory for each of the types your theme is going to provide.
For example to add the login type to the <code>example-theme</code> theme create the directory <code>themes/example-theme/login</code>.</p>
</div>
<div class="paragraph">
<p>For each type create a file <code>theme.properties</code> which allows setting some configuration for the theme, for example what theme it overrides and if it should import any themes.
For the above example we want to override the base theme and import common resources from the Keycloak theme.
To do this create the file <code>themes/example-theme/login/theme.properties</code> with following contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[
parent=base
import=common/keycloak</code></pre>
</div>
</div>
<div class="paragraph">
<p>You have now created a theme with support for the login type.
To check that it works open the admin console.
Select your realm and click on <code>Themes</code>.
For <code>Login Theme</code> select <code>example-theme</code> and click <code>Save</code>.
Then open the login page for the realm.
You can do this either by login through your application or by opening <code>http://localhost:8080/realms/&lt;realm name&gt;/account</code>.</p>
</div>
<div class="paragraph">
<p>To see the effect of changing the parent theme, set <code>parent=keycloak</code> in <code>theme.properties</code> and refresh the login page.
To follow the rest of the documentation set it back to <code>parent=base</code> before continuing.</p>
</div>
<div class="sect2">
<h3 id="_stylesheets">Stylesheets</h3>
<div class="paragraph">
<p>A theme can have one or more stylesheets, to add a stylesheet create a file inside <code>resources/css</code> (for example <code>resources/css/styles.css</code>) inside your theme folder.
Then registering it in <code>theme.properties</code> by adding:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>styles=css/styles.css</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>styles</code> property supports a space separated list so you can add as many as you want.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>styles=css/styles.css css/more-styles.css</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>example-theme/login/resources/css/styles.css</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#kc-form {
    background-color: #000;
    color: #fff;
    padding: 20px;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>example-theme/login/theme.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>styles=css/styles.css</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scripts">Scripts</h3>
<div class="paragraph">
<p>A theme can have one or more scripts, to add a script create a file inside <code>resources/js</code> (for example <code>resources/js/script.js</code>) inside your theme folder.
Then registering it in <code>theme.properties</code> by adding:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>scripts=js/script.js</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>scripts</code> property supports a space separated list so you can add as many as you want.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>scripts=js/script.js js/more-script.js</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_images">Images</h3>
<div class="paragraph">
<p>To make images available to the theme add them to <code>resources/img</code>.
They can then be used through stylesheets.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>body {
    background-image: url(&apos;../img/image.jpg&apos;);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or in templates, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;img src=&quot;${url.resourcesPath}/img/image.jpg&quot;&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_messages">Messages</h3>
<div class="paragraph">
<p>Text in the templates are loaded from message bundles.
A theme that extends another theme will inherit all messages from the parents message bundle, but can override individual messages.
For example to replace <code>Username</code> on the login form with <code>Your Username</code> create the file <code>messages/messages.properties</code> inside your theme folder and add the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>username=Your Username</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the admin console, there is a second resource bundle named <code>admin-messages.properties</code>.
This resource bundle is converted to JSON and shipped to the console to be processed by angular-translate.
It is found in the same directory as messages.properties and can be overridden in the same way as described above.</p>
</div>
</div>
<div class="sect2">
<h3 id="_modifying_html">Modifying HTML</h3>
<div class="paragraph">
<p>Keycloak uses <a href="http://freemarker.org" target="_blank">Freemarker Templates</a> in order to generate HTML.
These templates are defined in <code>.ftl</code> files and can be overriden from the base theme.
Check out the Freemarker website on how to form a template file.
To override the login template for the <code>example-theme</code> copy <code>themes/base/login/login.ftl</code> to <code>themes/example-theme/login</code> and open it in an editor.
After the first line (&lt;#import &#x2026;&#x200B;&gt;) add <code>&lt;h1&gt;HELLO WORLD!&lt;/h1&gt;</code> then refresh the page.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deploying_themes">Deploying themes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Themes can be deployed to Keycloak by copying the theme directory to <code>themes</code> or it can be deployed as a module.
For a single server or during development just copying the theme is fine, but in a cluster or domain it&#x2019;s recommended to deploy as a module.</p>
</div>
<div class="paragraph">
<p>To deploy a theme as a module you need to create an jar (it&#x2019;s basically just a zip with jar extension) with the theme resources and a file <code>META/keycloak-themes.json</code> that describes the themes contained in the archive.
For example <code>example-theme.jar</code> with the contents:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>META-INF/keycloak-themes.json</p>
</li>
<li>
<p>theme/example-theme/login/theme.properties</p>
</li>
<li>
<p>theme/example-theme/login/login.ftl</p>
</li>
<li>
<p>theme/example-theme/login/resources/css/styles.css</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The contents of META-INF/keycloak-themes.json in this case would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[
{
    &quot;themes&quot;: [{
        &quot;name&quot; : &quot;example-theme&quot;,
        &quot;types&quot;: [ &quot;login&quot; ]
    }]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see a single jar can contain multiple themes and each theme can support one or more types.</p>
</div>
<div class="paragraph">
<p>The deploy the jar as a module to Keycloak you can either manually create the module or use <code>jboss-cli</code>.
It&#x2019;s simplest to use <code>jboss-cli</code> as it creates the required directories and module descriptor for you.</p>
</div>
<div class="paragraph">
<p>To deploy the above jar <code>jboss-cli</code> run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[
    KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.example.exampletheme --resources=example-theme.jar&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#x2019;re on windows run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>KEYCLOAK_HOME/bin/jboss-cli.bat</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command creates <code>modules/org/example/exampletheme/main</code> containing <code>example-theme.jar</code> and <code>module.xml</code>.
Once you&#x2019;ve created the module you need to register it with Keycloak do this by editing <code>../standalone/configuration/keycloak-server.json</code> and adding the module to <code>theme/module/modules</code>.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[
&quot;theme&quot;: {
    ...
    &quot;module&quot;: {
        &quot;modules&quot;: [ &quot;org.example.exampletheme&quot; ]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a theme is deployed to <code>themes</code> and as a module the first is used.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spis">SPIs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For full control of login forms and account management Keycloak provides a number of SPIs.</p>
</div>
<div class="sect2">
<h3 id="_account_spi">Account SPI</h3>
<div class="paragraph">
<p>The Account SPI allows implementing the account management pages using whatever web framework or templating engine you want.
To create an Account provider implement <code>org.keycloak.account.AccountProviderFactory</code> and <code>org.keycloak.account.AccountProvider</code>.</p>
</div>
<div class="paragraph">
<p>Once you have deployed your account provider to Keycloak you need to configure <code>keycloak-server.json</code> to specify which provider should be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&quot;account&quot;: {
    &quot;provider&quot;: &quot;custom-provider&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_login_spi">Login SPI</h3>
<div class="paragraph">
<p>The Login SPI allows implementing the login forms using whatever web framework or templating engine you want.
To create a Login forms provider implement <code>org.keycloak.login.LoginFormsProviderFactory</code> and <code>org.keycloak.login.LoginFormsProvider</code> in <code>forms/login-api</code>.</p>
</div>
<div class="paragraph">
<p>Once you have deployed your account provider to Keycloak you need to configure <code>keycloak-server.json</code> to specify which provider should be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&quot;login&quot;: {
    &quot;provider&quot;: &quot;custom-provider&quot;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../topics/identity-broker.html" class="navigation navigation-prev " aria-label="Previous page: Identity Broker"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../topics/recaptcha.html" class="navigation navigation-next " aria-label="Next page: Recaptcha Support on Registration"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"livereload":{}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
